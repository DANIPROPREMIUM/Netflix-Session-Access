<!DOCTYPE html>
<html>
<head>
    <title>Generador de Códigos - Solo para Administrador</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        textarea { width: 100%; height: 120px; margin: 10px 0; font-family: monospace; }
        button { padding: 10px 15px; background: #E50914; color: white; border: none; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: 5px; }
        .warning { background: #fff3cd; padding: 10px; border-radius: 5px; margin-bottom: 15px; }
    </style>
</head>
<body>
    <h1>Generador de Códigos de Sesión</h1>
    
    <div class="warning">
        <p><strong>¡ADVERTENCIA!</strong> Esta herramienta es solo para el administrador. No compartas esta página.</p>
    </div>
    
    <div>
        <h3>1. Cookies de Netflix (formato JSON)</h3>
        <textarea id="cookies" placeholder='{"NetflixId": "...", "SecureNetflixId": "..."}'></textarea>
    </div>
    
    <div>
        <h3>2. Duración (horas)</h3>
        <input type="number" id="duration" value="48" min="1" max="168"> horas
    </div>
    
    <div>
        <button id="generateCode">Generar Código</button>
    </div>
    
    <div id="result" class="result" style="display: none;">
        <h3>Código Generado:</h3>
        <textarea id="sessionCode" readonly></textarea>
        <button id="copyCode">Copiar Código</button>
    </div>

    <script>
        document.getElementById('generateCode').addEventListener('click', function() {
            const cookiesText = document.getElementById('cookies').value.trim();
            const duration = parseInt(document.getElementById('duration').value);
            
            if (!cookiesText) {
                alert('Por favor, introduce las cookies de Netflix');
                return;
            }
            
            try {
                // Parsear las cookies
                const cookies = JSON.parse(cookiesText);
                
                // Convertir cookies a formato de cadena
                let cookieString = '';
                for (const [name, value] of Object.entries(cookies)) {
                    cookieString += `${name}=${value}; `;
                }
                cookieString = cookieString.slice(0, -2); // Eliminar el último "; "
                
                // Calcular fecha de expiración
                const expiresAt = Date.now() + (duration * 60 * 60 * 1000);
                
                // Crear objeto de sesión
                const sessionData = {
                    cookies: cookieString,
                    expiresAt: expiresAt
                };
                
                // Convertir a JSON y luego a base64
                const jsonString = JSON.stringify(sessionData);
                const base64Data = btoa(jsonString);
                
                // Firma secreta (solo tú conoces esta firma)
                const secretSignature = 'NETFLIX_DANIPRO_2024'; // Cambia esto a tu firma secreta
                
                // Generar código completo
                const sessionCode = `${secretSignature}:${base64Data}`;
                
                // Mostrar resultado
                document.getElementById('sessionCode').value = sessionCode;
                document.getElementById('result').style.display = 'block';
                
            } catch (error) {
                alert('Error: ' + error.message);
            }
        });
        
        document.getElementById('copyCode').addEventListener('click', function() {
            const sessionCode = document.getElementById('sessionCode');
            sessionCode.select();
            document.execCommand('copy');
            
            const btn = document.getElementById('copyCode');
            const originalText = btn.textContent;
            btn.textContent = '¡Copiado!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        });
    </script>
</body>
</html>