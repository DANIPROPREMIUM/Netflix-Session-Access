const _0x22ef41=_0x3d5a;(function(_0x4b06ef,_0x44f562){const _0x313920=_0x3d5a,_0x5eeb5a=_0x4b06ef();while(!![]){try{const _0x3aa47a=-parseInt(_0x313920(0x8b))/0x1+parseInt(_0x313920(0xc7))/0x2+parseInt(_0x313920(0xb0))/0x3*(-parseInt(_0x313920(0xad))/0x4)+-parseInt(_0x313920(0xc8))/0x5*(-parseInt(_0x313920(0xbb))/0x6)+-parseInt(_0x313920(0x89))/0x7*(-parseInt(_0x313920(0xa6))/0x8)+-parseInt(_0x313920(0xb5))/0x9*(-parseInt(_0x313920(0xc9))/0xa)+-parseInt(_0x313920(0x9d))/0xb*(-parseInt(_0x313920(0xb2))/0xc);if(_0x3aa47a===_0x44f562)break;else _0x5eeb5a['push'](_0x5eeb5a['shift']());}catch(_0x18ff4b){_0x5eeb5a['push'](_0x5eeb5a['shift']());}}}(_0x125e,0x6e391));let sessionExpiryTime=null;function _0x3d5a(_0x5aa4e0,_0x217d6e){const _0x125ead=_0x125e();return _0x3d5a=function(_0x3d5a06,_0x45acea){_0x3d5a06=_0x3d5a06-0x82;let _0x3696a4=_0x125ead[_0x3d5a06];return _0x3696a4;},_0x3d5a(_0x5aa4e0,_0x217d6e);}function saveSessionExpiry(_0x1ef0aa){const _0xb01beb=_0x3d5a;sessionExpiryTime=_0x1ef0aa,chrome['storage'][_0xb01beb(0xc3)]['set']({'sessionExpiryTime':_0x1ef0aa});}function loadSessionExpiry(){return new Promise(_0x1ba5c0=>{const _0x36f136=_0x3d5a;chrome[_0x36f136(0xcc)][_0x36f136(0xc3)][_0x36f136(0x85)]([_0x36f136(0xd1)],_0x3d0bcc=>{const _0x43ffbd=_0x36f136;sessionExpiryTime=_0x3d0bcc[_0x43ffbd(0xd1)]||null,_0x1ba5c0(sessionExpiryTime);});});}loadSessionExpiry();async function restoreCookies(_0x35cc78){const _0xd768=_0x3d5a;try{console[_0xd768(0x83)](_0xd768(0xb7));const _0x4431e0=JSON[_0xd768(0xbe)](atob(_0x35cc78));console[_0xd768(0x83)](_0xd768(0xbd));if(Date[_0xd768(0x9e)]()>_0x4431e0['expiresAt'])throw new Error(_0xd768(0x9b));saveSessionExpiry(_0x4431e0[_0xd768(0xb1)]),console[_0xd768(0x83)](_0xd768(0xc4));const _0x33a745=_0x4431e0[_0xd768(0x9c)]['split'](';\x20');console[_0xd768(0x83)]('Restaurando\x20'+_0x33a745[_0xd768(0xa4)]+_0xd768(0x97));let _0x58827a=0x0;for(const _0x4e4cc5 of _0x33a745){const [_0x9200b0,_0x3a6c87]=_0x4e4cc5[_0xd768(0xc6)]('=');try{await chrome[_0xd768(0x9c)][_0xd768(0x92)]({'url':'https://www.netflix.com','name':_0x9200b0,'value':_0x3a6c87,'domain':_0xd768(0xa2),'secure':!![],'httpOnly':!![]}),_0x58827a++,console[_0xd768(0x83)](_0xd768(0xc0)+_0x9200b0);}catch(_0x302878){console['error'](_0xd768(0xbc),_0x9200b0,_0x302878);}}return console[_0xd768(0x83)](_0xd768(0xae)+_0x58827a+_0xd768(0xc1)+_0x33a745[_0xd768(0xa4)]+'\x20cookies'),_0x58827a>0x0;}catch(_0x1d9b79){console[_0xd768(0xa8)](_0xd768(0xb4),_0x1d9b79);throw new Error(_0xd768(0xa7));}}async function restorePermanentSession(_0x13b07f,_0x356960,_0x1af9d0){const _0x34d502=_0x3d5a;try{console[_0x34d502(0x83)](_0x34d502(0xba));const _0x26fdc6=await restoreCookies(_0x1af9d0);if(!_0x26fdc6)throw new Error(_0x34d502(0xa5));console[_0x34d502(0x83)](_0x34d502(0x96));const _0x37583f=await chrome['windows']['getCurrent']();console['log'](_0x34d502(0x98),_0x37583f['id']);const _0x4436e4=await chrome['tabs'][_0x34d502(0x9f)]({'windowId':_0x37583f['id']});console[_0x34d502(0x83)](_0x34d502(0x99)+_0x4436e4[_0x34d502(0xa4)]+_0x34d502(0x8f));const _0x37b0a1=_0x4436e4[_0x34d502(0xcb)](_0x968695=>_0x968695[_0x34d502(0xa3)]&&_0x968695['url'][_0x34d502(0x8a)](_0x34d502(0x95)));console['log'](_0x34d502(0x99)+_0x37b0a1['length']+'\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual');if(_0x37b0a1[_0x34d502(0xa4)]>0x0)for(const _0x1f54bd of _0x37b0a1){console[_0x34d502(0x83)](_0x34d502(0x93)+_0x1f54bd['id']+':\x20'+_0x1f54bd[_0x34d502(0xa3)]),await chrome['tabs']['reload'](_0x1f54bd['id']);}else console[_0x34d502(0x83)]('No\x20hay\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual,\x20abriendo\x20una\x20nueva...'),await chrome[_0x34d502(0x91)][_0x34d502(0x82)]({'url':_0x34d502(0x8d),'windowId':_0x37583f['id'],'active':!![]});return!![];}catch(_0x652cd6){console[_0x34d502(0xa8)](_0x34d502(0xce),_0x652cd6);throw new Error(_0x34d502(0xc5)+_0x652cd6[_0x34d502(0x88)]);}}async function endSessionCompletely(){const _0x3f3b5a=_0x3d5a;try{console[_0x3f3b5a(0x83)](_0x3f3b5a(0xb9));const _0x10d9b6=await chrome[_0x3f3b5a(0x9c)]['getAll']({'domain':_0x3f3b5a(0xa2)});for(const _0x394843 of _0x10d9b6){try{await chrome[_0x3f3b5a(0x9c)][_0x3f3b5a(0xc2)]({'url':_0x3f3b5a(0x8d),'name':_0x394843[_0x3f3b5a(0x86)],'storeId':_0x394843[_0x3f3b5a(0x94)]}),console['log'](_0x3f3b5a(0xd0)+_0x394843['name']);}catch(_0x4eccb8){console[_0x3f3b5a(0xa8)](_0x3f3b5a(0x8c),_0x394843['name'],_0x4eccb8);}}chrome[_0x3f3b5a(0xcc)][_0x3f3b5a(0xc3)][_0x3f3b5a(0xc2)]([_0x3f3b5a(0xd1)]);const _0x28fc91=await chrome[_0x3f3b5a(0x91)]['query']({'url':_0x3f3b5a(0xab)});for(const _0x3c98cb of _0x28fc91){try{await chrome[_0x3f3b5a(0x91)]['sendMessage'](_0x3c98cb['id'],{'action':_0x3f3b5a(0x8e)}),await chrome[_0x3f3b5a(0x91)][_0x3f3b5a(0xaf)](_0x3c98cb['id']);}catch(_0x41cbf0){console[_0x3f3b5a(0xa8)]('Error\x20notificando\x20a\x20pestaña:',_0x3c98cb['id'],_0x41cbf0);}}return console[_0x3f3b5a(0x83)]('Sesión\x20cerrada\x20completamente'),!![];}catch(_0x24beb2){return console['error'](_0x3f3b5a(0xb6),_0x24beb2),![];}}setInterval(async()=>{const _0x5def7c=_0x3d5a;if(sessionExpiryTime&&Date[_0x5def7c(0x9e)]()>sessionExpiryTime){console[_0x5def7c(0x83)]('La\x20sesión\x20ha\x20expirado'),saveSessionExpiry(null),await endSessionCompletely();try{chrome[_0x5def7c(0xa9)][_0x5def7c(0xbf)]({'action':_0x5def7c(0x8e)});}catch(_0xb307bf){console[_0x5def7c(0x83)](_0x5def7c(0xaa));}}},0x7530),chrome[_0x22ef41(0xa9)][_0x22ef41(0xb8)]['addListener']((_0x4f61f0,_0x566763,_0x442f33)=>{const _0x5c78ee=_0x22ef41;if(_0x4f61f0[_0x5c78ee(0xac)]===_0x5c78ee(0x87))return restorePermanentSession(_0x4f61f0[_0x5c78ee(0xcf)],_0x4f61f0[_0x5c78ee(0x90)],_0x4f61f0[_0x5c78ee(0xca)])[_0x5c78ee(0x84)](()=>{const _0x4befae=_0x5c78ee;console['log'](_0x4befae(0xa1)),_0x442f33({'success':!![]});})[_0x5c78ee(0xcd)](_0x25d274=>{const _0x109fa3=_0x5c78ee;console[_0x109fa3(0xa8)](_0x109fa3(0xa0),_0x25d274),_0x442f33({'success':![],'error':_0x25d274[_0x109fa3(0x88)]});}),!![];if(_0x4f61f0['action']===_0x5c78ee(0x9a))return _0x442f33({'expiryTime':sessionExpiryTime}),!![];if(_0x4f61f0['action']===_0x5c78ee(0xb3))return endSessionCompletely()['then'](()=>{_0x442f33({'success':!![]});})[_0x5c78ee(0xcd)](_0x5d411e=>{const _0x59073e=_0x5c78ee;_0x442f33({'success':![],'error':_0x5d411e[_0x59073e(0x88)]});}),!![];});function _0x125e(){const _0x3d577c=['filter','storage','catch','Error\x20en\x20restauración:','sessionId','Cookie\x20eliminada:\x20','sessionExpiryTime','create','log','then','get','name','restorePermanentSession','message','27419LRFzpH','includes','740311IMnFxC','Error\x20eliminando\x20cookie:','https://www.netflix.com','sessionExpired','\x20pestañas\x20en\x20la\x20ventana\x20actual','accessKey','tabs','set','Recargando\x20pestaña\x20','storeId','netflix.com','Cookies\x20restauradas\x20correctamente','\x20cookies...','ID\x20de\x20ventana\x20actual:','Encontradas\x20','getSessionExpiry','La\x20sesión\x20ha\x20expirado','cookies','76945KdvVmD','now','query','Error\x20al\x20restaurar\x20sesión:','Sesión\x20restaurada\x20exitosamente','.netflix.com','url','length','No\x20se\x20pudieron\x20restaurar\x20las\x20cookies','984BNLzck','Código\x20de\x20sesión\x20inválido','error','runtime','No\x20se\x20pudo\x20notificar\x20al\x20popup','*://*.netflix.com/*','action','2988DRxCKT','Se\x20restauraron\x20','reload','2727PPEchr','expiresAt','204PxPbMJ','endSession','Error\x20decodificando\x20datos\x20de\x20sesión:','162uoZtMm','Error\x20al\x20cerrar\x20sesión:','Intentando\x20decodificar\x20datos\x20de\x20sesión...','onMessage','Cerrando\x20sesión\x20completamente...','Iniciando\x20restauración\x20de\x20sesión...','16410qBcWGT','Error\x20restaurando\x20cookie:','Datos\x20de\x20sesión\x20decodificados\x20correctamente','parse','sendMessage','Cookie\x20restaurada:\x20','\x20de\x20','remove','local','La\x20sesión\x20no\x20ha\x20expirado','Error\x20al\x20restaurar\x20la\x20sesión:\x20','split','987488leRhyI','905NsDPHT','156290ymRYof','encryptedData'];_0x125e=function(){return _0x3d577c;};return _0x125e();}