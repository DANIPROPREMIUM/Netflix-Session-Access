const _0x1b5838=_0x1e5d;function _0x41bc(){const _0x19f7eb=['\x20cookies...','Cookie\x20de\x20fingerprint\x20válida','Error\x20al\x20verificar\x20la\x20integridad\x20de\x20la\x20sesión:','Restaurando\x20','https://netflix-session-server.onrender.com','879027RfNKdx','httpOnly','Cookie\x20de\x20actividad\x20válida','endSession','Session\x20Access\x20-\x20Usando\x20Browser\x20ID:','Cookie\x20de\x20fingerprint\x20no\x20válida.\x20Cerrando\x20sesión.','9103430TYVmQm','Las\x20cookies\x20no\x20parecen\x20ser\x20originales.\x20Cerrando\x20sesión.','local','startsWith','Cookie\x20de\x20fingerprint\x20generada:','6hCCPUk','sessionExpiryTime','No\x20se\x20pudieron\x20restaurar\x20las\x20cookies','Todas\x20las\x20cookies\x20de\x20autenticación\x20están\x20presentes\x20y\x20son\x20válidas','Extensión\x20desinstalada.\x20Cerrando\x20sesión.','https://www.netflix.com/logout','Cookie\x20de\x20enlace\x20establecida','browserId','split','netflix_session_','set','getCurrent','sessionUniqueValue','NetflixId','action','Cerrando\x20sesión\x20completamente...','sendMessage','Cookie\x20de\x20actividad\x20próxima\x20a\x20expirar.\x20Posible\x20acceso\x20no\x20autorizado.','Cookie\x20invalidada:\x20','netflix_session_activity','?browserId=','2prYPga','pong','showUnauthorizedAccessMessage','2826715eespTJ','La\x20sesión\x20ha\x20expirado','Error\x20redirigiendo\x20pestaña:','Cookie\x20de\x20sesión\x20única\x20no\x20encontrada.\x20Cerrando\x20sesión.','Error\x20al\x20verificar\x20cookie\x20de\x20actividad:','64WBIfsE','substring','No\x20hay\x20cookie\x20de\x20enlace.\x20Las\x20cookies\x20podrían\x20ser\x20copiadas.','json','find','Recargando\x20pestaña\x20','netflix_session_unique','tabs','No\x20hay\x20cookie\x20de\x20sesión\x20única.\x20Las\x20cookies\x20podrían\x20ser\x20copiadas.','Error\x20restaurando\x20cookie:','Session\x20cookie\x20encontrada\x20en\x20storage','No\x20hay\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual,\x20abriendo\x20una\x20nueva...','Error\x20al\x20verificar\x20cookie\x20de\x20sesión\x20única:','get','remove','https://www.netflix.com','188fYcmTM','Verificando\x20actividad\x20en\x20otros\x20navegadores...','netflix_session_link','Error\x20obteniendo\x20cookies\x20del\x20servidor:','now','nfvdid','Cookie\x20de\x20sesión\x20única\x20generada:','stringify','name','Encontradas\x20','Cookie\x20de\x20sesión\x20única\x20encontrada','invalid_','url','sessionExpired','Error\x20al\x20invalidar\x20cookies:','83277LZMJPI','Session\x20Access\x20-\x20Browser\x20ID\x20recibido\x20de\x20Creator:','No\x20hay\x20cookie\x20de\x20autenticación.\x20Las\x20cookies\x20podrían\x20ser\x20copiadas.','Error\x20al\x20restaurar\x20la\x20sesión:\x20','storeId','domain','/api/sessions/','Sesión\x20detectada\x20en\x20otro\x20navegador.\x20Cerrando\x20sesión.','addListener','length','3627001SbXqVZ','forEach','Session\x20Access\x20-\x20Browser\x20ID\x20ya\x20disponible:','No\x20se\x20pudo\x20notificar\x20al\x20popup','filter','/api/end-session?browserId=','onSuspend','Error\x20invalidando\x20cookie:','netflix_session_browser_id','\x20cookies','message','then','5541uiOVET','toString','lastActivity','Cookie\x20existente\x20eliminada:\x20','catch','Sesión\x20restaurada\x20exitosamente','Session\x20Access\x20-\x20Browser\x20ID\x20obtenido\x20de\x20storage.local:','Se\x20restauraron\x20','query','Error\x20enviando\x20mensaje\x20a\x20pestaña:','browserFingerprint','charCodeAt','SecureNetflixId','update','path','floor','value','Se\x20detectaron\x20cambios\x20no\x20autorizados\x20en\x20cookies.\x20Cerrando\x20sesión.','onMessage','ping','reload','*://*.netflix.com/*','Cookie\x20restaurada:\x20','No\x20se\x20pudo\x20obtener\x20el\x20browser\x20ID.\x20Asegúrate\x20de\x20abrir\x20Netflix\x20Session\x20Creator\x20primero\x20para\x20generar\x20el\x20ID.','Session\x20Access\x20-\x20Browser\x20ID\x20obtenido\x20de\x20cookie:','.netflix.com','error','storage','log','\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual','token','Token\x20inválido\x20o\x20expirado','restorePermanentSession','Error\x20al\x20verificar\x20cookies\x20originales:','Obteniendo\x20cookies\x20del\x20servidor\x20para\x20token:','activeInOtherBrowser','abs','Error\x20al\x20verificar\x20uso\x20entre\x20navegadores:','Error\x20en\x20restauración:','getAll','random','Cookie\x20de\x20actividad\x20no\x20encontrada.\x20Posible\x20acceso\x20no\x20autorizado.','browser_','runtime','Cookies\x20restauradas\x20correctamente','4421109TKVWuw','ID\x20de\x20ventana\x20actual:','cookies'];_0x41bc=function(){return _0x19f7eb;};return _0x41bc();}(function(_0x3fa7db,_0x590da8){const _0x32d30e=_0x1e5d,_0x23d9ae=_0x3fa7db();while(!![]){try{const _0x1cc92c=parseInt(_0x32d30e(0x16e))/0x1*(-parseInt(_0x32d30e(0x18e))/0x2)+parseInt(_0x32d30e(0x139))/0x3*(-parseInt(_0x32d30e(0x1a6))/0x4)+-parseInt(_0x32d30e(0x191))/0x5*(-parseInt(_0x32d30e(0x179))/0x6)+parseInt(_0x32d30e(0x12d))/0x7+-parseInt(_0x32d30e(0x196))/0x8*(parseInt(_0x32d30e(0x1b5))/0x9)+parseInt(_0x32d30e(0x174))/0xa+-parseInt(_0x32d30e(0x166))/0xb;if(_0x1cc92c===_0x590da8)break;else _0x23d9ae['push'](_0x23d9ae['shift']());}catch(_0x261543){_0x23d9ae['push'](_0x23d9ae['shift']());}}}(_0x41bc,0x86c72));let sessionExpiryTime=null,browserId=null,verificationInterval=null,initialCookiesState={},lastActivityTime=Date[_0x1b5838(0x1aa)](),activityInterval=null,browserFingerprint=null;async function generateBrowserFingerprint(){const _0x3bd82e=_0x1b5838;if(browserFingerprint)return browserFingerprint;const _0x440cbb=await new Promise(_0xf35a84=>{const _0x112b14=_0x1e5d;chrome[_0x112b14(0x154)][_0x112b14(0x176)][_0x112b14(0x1a3)](['browserFingerprint'],_0xf35a84);});if(_0x440cbb['browserFingerprint'])return browserFingerprint=_0x440cbb[_0x3bd82e(0x143)],browserFingerprint;const _0x189e17={'extensionId':chrome[_0x3bd82e(0x164)]['id'],'timestamp':Date['now'](),'random':Math[_0x3bd82e(0x161)]()['toString'](0x24)[_0x3bd82e(0x197)](0x2,0xf)},_0x1a45aa=JSON[_0x3bd82e(0x1ad)](_0x189e17),_0x25f416=await simpleHash(_0x1a45aa);return browserFingerprint=_0x25f416,await chrome[_0x3bd82e(0x154)][_0x3bd82e(0x176)]['set']({'browserFingerprint':_0x25f416}),_0x25f416;}async function simpleHash(_0x32224e){const _0x4a186a=_0x1b5838;let _0x2923af=0x0;for(let _0x5bce04=0x0;_0x5bce04<_0x32224e[_0x4a186a(0x12c)];_0x5bce04++){const _0x1ad710=_0x32224e[_0x4a186a(0x144)](_0x5bce04);_0x2923af=(_0x2923af<<0x5)-_0x2923af+_0x1ad710,_0x2923af=_0x2923af&_0x2923af;}return Math[_0x4a186a(0x15d)](_0x2923af)[_0x4a186a(0x13a)](0x10);}async function getBrowserId(){return new Promise(_0x2fcebf=>{const _0x4d2c52=_0x1e5d;if(browserId){console[_0x4d2c52(0x155)](_0x4d2c52(0x12f),browserId),_0x2fcebf(browserId);return;}chrome[_0x4d2c52(0x168)]['get']({'url':_0x4d2c52(0x1a5),'name':_0x4d2c52(0x135)},async _0x41462f=>{const _0x2321e4=_0x4d2c52;_0x41462f&&_0x41462f['value']?(browserId=_0x41462f[_0x2321e4(0x149)],console[_0x2321e4(0x155)](_0x2321e4(0x151),browserId),_0x2fcebf(browserId)):chrome[_0x2321e4(0x154)]['local'][_0x2321e4(0x1a3)]([_0x2321e4(0x180)],async _0xda91c3=>{const _0x3ed7cf=_0x2321e4;if(_0xda91c3[_0x3ed7cf(0x180)])browserId=_0xda91c3[_0x3ed7cf(0x180)],console[_0x3ed7cf(0x155)](_0x3ed7cf(0x13f),browserId),_0x2fcebf(browserId);else{const _0x29ff1b=await generateBrowserFingerprint(),_0x15178d=_0x3ed7cf(0x163)+_0x29ff1b+'_'+Date[_0x3ed7cf(0x1aa)]();browserId=_0x15178d,await chrome[_0x3ed7cf(0x154)][_0x3ed7cf(0x176)][_0x3ed7cf(0x183)]({'browserId':_0x15178d}),await chrome[_0x3ed7cf(0x168)]['set']({'url':_0x3ed7cf(0x1a5),'name':'netflix_session_browser_id','value':_0x15178d,'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Math[_0x3ed7cf(0x148)](Date[_0x3ed7cf(0x1aa)]()/0x3e8)+0x1e13380}),console[_0x3ed7cf(0x155)]('Session\x20Access\x20-\x20Nuevo\x20Browser\x20ID\x20generado:',_0x15178d),_0x2fcebf(_0x15178d);}});});});}async function generateSessionCookie(){const _0x3240dc=_0x1b5838,_0x87ece1=await getBrowserId();if(!_0x87ece1)throw new Error('No\x20se\x20pudo\x20obtener\x20el\x20browser\x20ID');const _0x1073e1=_0x87ece1+'_'+Date['now']()+'_'+Math[_0x3240dc(0x161)]()[_0x3240dc(0x13a)](0x24)[_0x3240dc(0x197)](0x2,0xf);return await chrome[_0x3240dc(0x168)][_0x3240dc(0x183)]({'url':_0x3240dc(0x1a5),'name':_0x3240dc(0x19c),'value':_0x1073e1,'domain':_0x3240dc(0x152),'secure':!![],'httpOnly':!![],'expirationDate':Math[_0x3240dc(0x148)](Date[_0x3240dc(0x1aa)]()/0x3e8)+0xe10}),await chrome['storage']['local'][_0x3240dc(0x183)]({'sessionUniqueValue':_0x1073e1}),console['log'](_0x3240dc(0x1ac),_0x1073e1),_0x1073e1;}async function generateActivityCookie(){const _0x2f4e2e=_0x1b5838,_0x34e701=await getBrowserId();if(!_0x34e701)throw new Error('No\x20se\x20pudo\x20obtener\x20el\x20browser\x20ID');const _0x10c412=_0x34e701+'_'+Date[_0x2f4e2e(0x1aa)]()+'_'+Math['random']()[_0x2f4e2e(0x13a)](0x24)[_0x2f4e2e(0x197)](0x2,0xf);return await chrome['cookies'][_0x2f4e2e(0x183)]({'url':'https://www.netflix.com','name':_0x2f4e2e(0x18c),'value':_0x10c412,'domain':_0x2f4e2e(0x152),'secure':!![],'httpOnly':![],'expirationDate':Math['floor'](Date[_0x2f4e2e(0x1aa)]()/0x3e8)+0x3}),lastActivityTime=Date[_0x2f4e2e(0x1aa)](),console[_0x2f4e2e(0x155)]('Cookie\x20de\x20actividad\x20generada:',_0x10c412),_0x10c412;}async function generateFingerprintCookie(){const _0x487fff=_0x1b5838,_0x36cac8=await generateBrowserFingerprint();return await chrome['cookies'][_0x487fff(0x183)]({'url':_0x487fff(0x1a5),'name':'netflix_session_fingerprint','value':_0x36cac8,'domain':_0x487fff(0x152),'secure':!![],'httpOnly':![],'expirationDate':Math[_0x487fff(0x148)](Date[_0x487fff(0x1aa)]()/0x3e8)+0xe10}),console[_0x487fff(0x155)](_0x487fff(0x178),_0x36cac8),_0x36cac8;}async function verifySessionCookie(){const _0x50d8d3=_0x1b5838;try{const _0x5a0473=await new Promise(_0x24798f=>{const _0x14a50d=_0x1e5d;chrome[_0x14a50d(0x154)][_0x14a50d(0x176)][_0x14a50d(0x1a3)]([_0x14a50d(0x185)],_0x24798f);});if(_0x5a0473[_0x50d8d3(0x185)])return console['log'](_0x50d8d3(0x1a0)),!![];const _0x183fe1=await new Promise(_0x1af4f6=>{const _0x1a96d5=_0x50d8d3;chrome[_0x1a96d5(0x168)][_0x1a96d5(0x1a3)]({'url':_0x1a96d5(0x1a5),'name':_0x1a96d5(0x19c)},_0x1af4f6);});if(!_0x183fe1)return console[_0x50d8d3(0x155)](_0x50d8d3(0x194)),await endSessionCompletely(),![];return console['log'](_0x50d8d3(0x1b0)),!![];}catch(_0x4b5a8d){return console[_0x50d8d3(0x153)](_0x50d8d3(0x1a2),_0x4b5a8d),![];}}async function verifyActivityCookie(){const _0x183895=_0x1b5838;try{const _0x43f141=await new Promise(_0x35ffde=>{const _0x4ee33c=_0x1e5d;chrome[_0x4ee33c(0x168)][_0x4ee33c(0x1a3)]({'url':_0x4ee33c(0x1a5),'name':_0x4ee33c(0x18c)},_0x35ffde);});if(!_0x43f141)return console[_0x183895(0x155)](_0x183895(0x162)),![];const _0x132921=Math[_0x183895(0x148)](Date[_0x183895(0x1aa)]()/0x3e8);if(_0x43f141['expirationDate']-_0x132921<0x1)return console['log'](_0x183895(0x18a)),![];return console['log'](_0x183895(0x170)),!![];}catch(_0x40b1a2){return console[_0x183895(0x153)](_0x183895(0x195),_0x40b1a2),![];}}function _0x1e5d(_0x213901,_0x25662e){const _0x41bcf5=_0x41bc();return _0x1e5d=function(_0x1e5dd6,_0x5ba27f){_0x1e5dd6=_0x1e5dd6-0x12c;let _0x35bee2=_0x41bcf5[_0x1e5dd6];return _0x35bee2;},_0x1e5d(_0x213901,_0x25662e);}async function verifyFingerprintCookie(){const _0x4276ce=_0x1b5838;try{const _0x376bf7=await new Promise(_0x103618=>{const _0x572507=_0x1e5d;chrome[_0x572507(0x168)][_0x572507(0x1a3)]({'url':'https://www.netflix.com','name':'netflix_session_fingerprint'},_0x103618);});if(!_0x376bf7)return console['log']('Cookie\x20de\x20fingerprint\x20no\x20encontrada.\x20Posible\x20acceso\x20no\x20autorizado.'),![];const _0x305e17=await generateBrowserFingerprint();if(_0x376bf7[_0x4276ce(0x149)]!==_0x305e17)return console[_0x4276ce(0x155)]('Fingerprint\x20no\x20coincide.\x20Posible\x20acceso\x20no\x20autorizado.'),![];return console[_0x4276ce(0x155)](_0x4276ce(0x16a)),!![];}catch(_0x3f8842){return console[_0x4276ce(0x153)]('Error\x20al\x20verificar\x20cookie\x20de\x20fingerprint:',_0x3f8842),![];}}async function verifyOriginalCookies(){const _0x2e1522=_0x1b5838;try{const _0x53be6f=await new Promise(_0x1e2a0c=>{const _0x475314=_0x1e5d;chrome['cookies'][_0x475314(0x1a3)]({'url':_0x475314(0x1a5),'name':_0x475314(0x19c)},_0x1e2a0c);});if(!_0x53be6f)return console[_0x2e1522(0x155)](_0x2e1522(0x19e)),![];const _0x13988e=await new Promise(_0x5108f3=>{const _0x349d4e=_0x2e1522;chrome['cookies'][_0x349d4e(0x1a3)]({'url':'https://www.netflix.com','name':_0x349d4e(0x135)},_0x5108f3);});if(!_0x13988e)return console['log'](_0x2e1522(0x1b7)),![];const _0x3b51f6=await new Promise(_0x4aa4dc=>{chrome['cookies']['get']({'url':'https://www.netflix.com','name':'netflix_session_link'},_0x4aa4dc);});if(!_0x3b51f6)return console[_0x2e1522(0x155)](_0x2e1522(0x198)),![];if(_0x3b51f6[_0x2e1522(0x149)]!==_0x13988e[_0x2e1522(0x149)])return console[_0x2e1522(0x155)]('La\x20cookie\x20de\x20enlace\x20no\x20coincide\x20con\x20el\x20browser\x20ID.\x20Las\x20cookies\x20podrían\x20ser\x20copiadas.'),![];return console['log'](_0x2e1522(0x17c)),!![];}catch(_0x2ff868){return console[_0x2e1522(0x153)](_0x2e1522(0x15a),_0x2ff868),![];}}async function invalidateNetflixCookies(){const _0x1b65cc=_0x1b5838;try{console['log']('Invalidando\x20cookies\x20de\x20Netflix...');const _0x2bd7e4=await chrome[_0x1b65cc(0x168)][_0x1b65cc(0x160)]({'domain':_0x1b65cc(0x152)});for(const _0x687a42 of _0x2bd7e4){if(!_0x687a42[_0x1b65cc(0x1ae)][_0x1b65cc(0x177)](_0x1b65cc(0x182)))try{await chrome[_0x1b65cc(0x168)]['set']({'url':_0x1b65cc(0x1a5),'name':_0x687a42[_0x1b65cc(0x1ae)],'value':_0x1b65cc(0x1b1)+Date[_0x1b65cc(0x1aa)](),'domain':_0x687a42[_0x1b65cc(0x1ba)],'path':_0x687a42[_0x1b65cc(0x147)],'secure':_0x687a42['secure'],'httpOnly':_0x687a42[_0x1b65cc(0x16f)],'expirationDate':Math[_0x1b65cc(0x148)](Date[_0x1b65cc(0x1aa)]()/0x3e8)+0x3c}),console[_0x1b65cc(0x155)](_0x1b65cc(0x18b)+_0x687a42[_0x1b65cc(0x1ae)]);}catch(_0x4a00c4){console[_0x1b65cc(0x153)](_0x1b65cc(0x134),_0x687a42[_0x1b65cc(0x1ae)],_0x4a00c4);}}}catch(_0x3c8916){console[_0x1b65cc(0x153)](_0x1b65cc(0x1b4),_0x3c8916);}}async function verifyCrossBrowserUsage(){const _0x365471=_0x1b5838;try{const _0x5b74ec=await getBrowserId(),_0x44899e=await new Promise(_0x4c34c2=>{const _0x3bbf34=_0x1e5d;chrome[_0x3bbf34(0x154)][_0x3bbf34(0x176)][_0x3bbf34(0x1a3)](['lastActivity'],_0x1df5b7=>{const _0x13197b=_0x3bbf34;_0x4c34c2(_0x1df5b7[_0x13197b(0x13b)]||0x0);});}),_0x5cb7d1=Date['now']();if(_0x5cb7d1-_0x44899e>0xea60){console[_0x365471(0x155)](_0x365471(0x1a7)),await chrome[_0x365471(0x154)][_0x365471(0x176)][_0x365471(0x183)]({'lastActivity':_0x5cb7d1});const _0x2c7516='https://netflix-session-server.onrender.com',_0x3f44c7=await fetch(_0x2c7516+'/api/verify-session?browserId='+encodeURIComponent(_0x5b74ec));if(_0x3f44c7['ok']){const _0x3dfa28=await _0x3f44c7['json']();if(_0x3dfa28[_0x365471(0x15c)])return console[_0x365471(0x155)](_0x365471(0x1bc)),await endSessionCompletely(),![];}}return!![];}catch(_0x1a8a38){return console['error'](_0x365471(0x15e),_0x1a8a38),![];}}async function detectUnauthorizedCookieChanges(){const _0xd13cb0=_0x1b5838;try{const _0x364010=await chrome[_0xd13cb0(0x168)]['getAll']({'domain':_0xd13cb0(0x152)});if(Object['keys'](initialCookiesState)[_0xd13cb0(0x12c)]===0x0)return _0x364010[_0xd13cb0(0x12e)](_0x4d4c05=>{initialCookiesState[_0x4d4c05['name']]=_0x4d4c05['value'];}),!![];const _0x5e8a5f=[_0xd13cb0(0x1ab),_0xd13cb0(0x145),'NetflixId'];let _0x466cff=![];for(const _0x51c268 of _0x5e8a5f){const _0x34d617=_0x364010[_0xd13cb0(0x19a)](_0x5e7012=>_0x5e7012[_0xd13cb0(0x1ae)]===_0x51c268),_0x1fc183=initialCookiesState[_0x51c268];_0x34d617&&_0x1fc183&&_0x34d617[_0xd13cb0(0x149)]!==_0x1fc183&&(console[_0xd13cb0(0x155)]('Cambio\x20no\x20autorizado\x20detectado\x20en\x20cookie:\x20'+_0x51c268),_0x466cff=!![]);}if(_0x466cff){console['log'](_0xd13cb0(0x14a));const _0x1e3fc6=await chrome['tabs'][_0xd13cb0(0x141)]({'url':_0xd13cb0(0x14e)});for(const _0x1a867a of _0x1e3fc6){try{chrome[_0xd13cb0(0x19d)][_0xd13cb0(0x189)](_0x1a867a['id'],{'action':_0xd13cb0(0x190)});}catch(_0x381246){console[_0xd13cb0(0x153)](_0xd13cb0(0x142),_0x1a867a['id'],_0x381246);}}return setTimeout(async()=>{await endSessionCompletely();},0xbb8),![];}return!![];}catch(_0x2ce723){return console[_0xd13cb0(0x153)]('Error\x20al\x20detectar\x20cambios\x20en\x20cookies:',_0x2ce723),![];}}async function verifySessionIntegrity(){const _0x31bc7b=_0x1b5838;try{const _0x1abf4a=await verifySessionCookie();if(!_0x1abf4a)return![];const _0x43fbb8=await verifyOriginalCookies();if(!_0x43fbb8)return console[_0x31bc7b(0x155)](_0x31bc7b(0x175)),await endSessionCompletely(),![];const _0x1c606b=[_0x31bc7b(0x1ab),_0x31bc7b(0x145),_0x31bc7b(0x186)];let _0x4170f9=!![];for(const _0x510017 of _0x1c606b){const _0x3eeffd=await new Promise(_0x449659=>{const _0x547a6=_0x31bc7b;chrome[_0x547a6(0x168)]['get']({'url':_0x547a6(0x1a5),'name':_0x510017},_0x449659);});(!_0x3eeffd||_0x3eeffd[_0x31bc7b(0x149)]['startsWith'](_0x31bc7b(0x1b1)))&&(console[_0x31bc7b(0x155)]('Cookie\x20esencial\x20no\x20encontrada\x20o\x20inválida:\x20'+_0x510017),_0x4170f9=![]);}if(!_0x4170f9)return console[_0x31bc7b(0x155)]('Faltan\x20cookies\x20esenciales\x20o\x20están\x20invalidadas.\x20Cerrando\x20sesión.'),await endSessionCompletely(),![];const _0x5c5dfa=await verifyActivityCookie();if(!_0x5c5dfa){console['log']('Cookie\x20de\x20actividad\x20no\x20válida.\x20Cerrando\x20sesión.');const _0x164988=await chrome[_0x31bc7b(0x19d)][_0x31bc7b(0x141)]({'url':'*://*.netflix.com/*'});for(const _0x24b40a of _0x164988){try{chrome[_0x31bc7b(0x19d)][_0x31bc7b(0x189)](_0x24b40a['id'],{'action':_0x31bc7b(0x190)});}catch(_0x54c635){console[_0x31bc7b(0x153)](_0x31bc7b(0x142),_0x24b40a['id'],_0x54c635);}}return setTimeout(async()=>{await endSessionCompletely();},0xbb8),![];}const _0x47ba99=await verifyFingerprintCookie();if(!_0x47ba99){console[_0x31bc7b(0x155)](_0x31bc7b(0x173));const _0x25fa25=await chrome[_0x31bc7b(0x19d)][_0x31bc7b(0x141)]({'url':_0x31bc7b(0x14e)});for(const _0x1746c2 of _0x25fa25){try{chrome[_0x31bc7b(0x19d)][_0x31bc7b(0x189)](_0x1746c2['id'],{'action':'showUnauthorizedAccessMessage'});}catch(_0x26dca){console[_0x31bc7b(0x153)]('Error\x20enviando\x20mensaje\x20a\x20pestaña:',_0x1746c2['id'],_0x26dca);}}return setTimeout(async()=>{await endSessionCompletely();},0xbb8),![];}return await verifyCrossBrowserUsage(),await detectUnauthorizedCookieChanges(),!![];}catch(_0x2914ef){return console[_0x31bc7b(0x153)](_0x31bc7b(0x16b),_0x2914ef),![];}}function saveSessionExpiry(_0x5d6091){const _0x840ec4=_0x1b5838;sessionExpiryTime=_0x5d6091,chrome[_0x840ec4(0x154)]['local'][_0x840ec4(0x183)]({'sessionExpiryTime':_0x5d6091});}function loadSessionExpiry(){return new Promise(_0x3cdd39=>{const _0x5a8dfc=_0x1e5d;chrome[_0x5a8dfc(0x154)][_0x5a8dfc(0x176)][_0x5a8dfc(0x1a3)]([_0x5a8dfc(0x17a)],_0x14d08b=>{const _0x5873fb=_0x5a8dfc;sessionExpiryTime=_0x14d08b[_0x5873fb(0x17a)]||null,_0x3cdd39(sessionExpiryTime);});});}loadSessionExpiry();async function restoreCookiesFromServer(_0x49e5da){const _0x5b2258=_0x1b5838;try{console['log'](_0x5b2258(0x15b),_0x49e5da);const _0x404c2e=_0x5b2258(0x16d),_0x3256d3=await getBrowserId();if(!_0x3256d3)throw new Error(_0x5b2258(0x150));console[_0x5b2258(0x155)](_0x5b2258(0x172),_0x3256d3);const _0x191895=await fetch(_0x404c2e+_0x5b2258(0x1bb)+_0x49e5da+_0x5b2258(0x18d)+encodeURIComponent(_0x3256d3));if(!_0x191895['ok']){const _0x16c7f3=await _0x191895[_0x5b2258(0x199)]();throw new Error(_0x16c7f3[_0x5b2258(0x153)]||_0x5b2258(0x158));}const {cookies:_0x4b939b,expiresAt:_0x59a544}=await _0x191895[_0x5b2258(0x199)]();saveSessionExpiry(_0x59a544);const _0x15f12d=_0x4b939b[_0x5b2258(0x181)](';\x20');console['log'](_0x5b2258(0x16c)+_0x15f12d[_0x5b2258(0x12c)]+_0x5b2258(0x169));const _0x15f6af=await chrome[_0x5b2258(0x168)][_0x5b2258(0x160)]({'domain':_0x5b2258(0x152)});for(const _0x23f7ef of _0x15f6af){try{await chrome[_0x5b2258(0x168)][_0x5b2258(0x1a4)]({'url':'https://www.netflix.com','name':_0x23f7ef[_0x5b2258(0x1ae)],'storeId':_0x23f7ef[_0x5b2258(0x1b9)]}),console['log'](_0x5b2258(0x13c)+_0x23f7ef[_0x5b2258(0x1ae)]);}catch(_0x577a9d){console[_0x5b2258(0x153)]('Error\x20eliminando\x20cookie\x20existente:',_0x23f7ef['name'],_0x577a9d);}}let _0x5d0731=0x0;for(const _0x24291b of _0x15f12d){const [_0xc5dab1,_0x302f5b]=_0x24291b[_0x5b2258(0x181)]('=');if(!_0xc5dab1||!_0x302f5b)continue;try{await chrome[_0x5b2258(0x168)][_0x5b2258(0x183)]({'url':_0x5b2258(0x1a5),'name':_0xc5dab1,'value':_0x302f5b,'domain':_0x5b2258(0x152),'secure':!![],'httpOnly':!![],'expirationDate':Math[_0x5b2258(0x148)](Date[_0x5b2258(0x1aa)]()/0x3e8)+0xe10}),_0x5d0731++,console[_0x5b2258(0x155)](_0x5b2258(0x14f)+_0xc5dab1);}catch(_0x34d8a2){console['error'](_0x5b2258(0x19f),_0xc5dab1,_0x34d8a2);}}try{await chrome[_0x5b2258(0x168)]['set']({'url':_0x5b2258(0x1a5),'name':_0x5b2258(0x1a8),'value':_0x3256d3,'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Math[_0x5b2258(0x148)](Date[_0x5b2258(0x1aa)]()/0x3e8)+0xe10}),console[_0x5b2258(0x155)](_0x5b2258(0x17f));}catch(_0x191dbd){console[_0x5b2258(0x153)]('Error\x20estableciendo\x20cookie\x20de\x20enlace:',_0x191dbd);}await generateSessionCookie(),await generateActivityCookie(),await generateFingerprintCookie();const _0x4e2a0a=await chrome[_0x5b2258(0x168)]['getAll']({'domain':_0x5b2258(0x152)});return initialCookiesState={},_0x4e2a0a['forEach'](_0x2cbf2f=>{const _0x326f41=_0x5b2258;initialCookiesState[_0x2cbf2f[_0x326f41(0x1ae)]]=_0x2cbf2f[_0x326f41(0x149)];}),console[_0x5b2258(0x155)](_0x5b2258(0x140)+_0x5d0731+'\x20de\x20'+_0x15f12d[_0x5b2258(0x12c)]+_0x5b2258(0x136)),verificationInterval&&clearInterval(verificationInterval),verificationInterval=setInterval(verifySessionIntegrity,0xc8),activityInterval&&clearInterval(activityInterval),activityInterval=setInterval(generateActivityCookie,0x3e8),_0x5d0731>0x0;}catch(_0x555e20){console[_0x5b2258(0x153)](_0x5b2258(0x1a9),_0x555e20);throw new Error(_0x5b2258(0x1b8)+_0x555e20[_0x5b2258(0x137)]);}}async function restorePermanentSession(_0x374fe5){const _0x182136=_0x1b5838;try{console['log']('Iniciando\x20restauración\x20de\x20sesión...');const _0x17f5a5=await restoreCookiesFromServer(_0x374fe5);if(!_0x17f5a5)throw new Error(_0x182136(0x17b));console['log'](_0x182136(0x165));const _0xd5dcb1=await chrome['windows'][_0x182136(0x184)]();console[_0x182136(0x155)](_0x182136(0x167),_0xd5dcb1['id']);const _0x355154=await chrome[_0x182136(0x19d)][_0x182136(0x141)]({'windowId':_0xd5dcb1['id']});console['log'](_0x182136(0x1af)+_0x355154[_0x182136(0x12c)]+'\x20pestañas\x20en\x20la\x20ventana\x20actual');const _0x49cf8a=_0x355154[_0x182136(0x131)](_0x54c70a=>_0x54c70a[_0x182136(0x1b2)]&&_0x54c70a[_0x182136(0x1b2)]['includes']('netflix.com'));console[_0x182136(0x155)](_0x182136(0x1af)+_0x49cf8a[_0x182136(0x12c)]+_0x182136(0x156));if(_0x49cf8a[_0x182136(0x12c)]>0x0)for(const _0x5c7ca7 of _0x49cf8a){console[_0x182136(0x155)](_0x182136(0x19b)+_0x5c7ca7['id']+':\x20'+_0x5c7ca7[_0x182136(0x1b2)]),await chrome[_0x182136(0x19d)][_0x182136(0x14d)](_0x5c7ca7['id']);}else console['log'](_0x182136(0x1a1)),await chrome[_0x182136(0x19d)]['create']({'url':_0x182136(0x1a5),'windowId':_0xd5dcb1['id'],'active':!![]});return!![];}catch(_0xcc5b4b){console['error'](_0x182136(0x15f),_0xcc5b4b);throw new Error(_0x182136(0x1b8)+_0xcc5b4b[_0x182136(0x137)]);}}async function endSessionCompletely(){const _0x16a9a8=_0x1b5838;try{console[_0x16a9a8(0x155)](_0x16a9a8(0x188));verificationInterval&&(clearInterval(verificationInterval),verificationInterval=null);activityInterval&&(clearInterval(activityInterval),activityInterval=null);await invalidateNetflixCookies(),chrome[_0x16a9a8(0x154)][_0x16a9a8(0x176)][_0x16a9a8(0x1a4)]([_0x16a9a8(0x17a),_0x16a9a8(0x180),_0x16a9a8(0x185),'lastActivity']);try{const _0x465467=await getBrowserId(),_0x1db654=_0x16a9a8(0x16d);await fetch(_0x1db654+_0x16a9a8(0x132)+encodeURIComponent(_0x465467));}catch(_0xeea5f6){console[_0x16a9a8(0x153)]('Error\x20notificando\x20al\x20servidor:',_0xeea5f6);}const _0x3d7867=await chrome[_0x16a9a8(0x19d)]['query']({'url':_0x16a9a8(0x14e)});for(const _0x469854 of _0x3d7867){try{await chrome['tabs'][_0x16a9a8(0x146)](_0x469854['id'],{'url':'https://www.netflix.com/logout'});}catch(_0x501c0){console[_0x16a9a8(0x153)](_0x16a9a8(0x193),_0x469854['id'],_0x501c0);}}return initialCookiesState={},console[_0x16a9a8(0x155)]('Sesión\x20cerrada\x20completamente'),!![];}catch(_0x5d237b){return console['error']('Error\x20al\x20cerrar\x20sesión:',_0x5d237b),![];}}setInterval(async()=>{const _0x41e581=_0x1b5838;if(sessionExpiryTime&&Date['now']()>sessionExpiryTime){console[_0x41e581(0x155)](_0x41e581(0x192)),saveSessionExpiry(null),await endSessionCompletely();try{chrome[_0x41e581(0x164)][_0x41e581(0x189)]({'action':_0x41e581(0x1b3)});}catch(_0x32290e){console[_0x41e581(0x155)](_0x41e581(0x130));}}},0x7530),chrome[_0x1b5838(0x164)][_0x1b5838(0x14b)][_0x1b5838(0x1bd)]((_0x4dffe0,_0x305ad8,_0x286bce)=>{const _0x870aa7=_0x1b5838;if(_0x4dffe0['action']===_0x870aa7(0x159))return restorePermanentSession(_0x4dffe0[_0x870aa7(0x157)])[_0x870aa7(0x138)](()=>{const _0x38ae84=_0x870aa7;console['log'](_0x38ae84(0x13e)),_0x286bce({'success':!![]});})[_0x870aa7(0x13d)](_0x1d1bbf=>{const _0x37e34b=_0x870aa7;console[_0x37e34b(0x153)]('Error\x20al\x20restaurar\x20sesión:',_0x1d1bbf),_0x286bce({'success':![],'error':_0x1d1bbf['message']});}),!![];if(_0x4dffe0[_0x870aa7(0x187)]==='getSessionExpiry')return _0x286bce({'expiryTime':sessionExpiryTime}),!![];if(_0x4dffe0[_0x870aa7(0x187)]===_0x870aa7(0x171))return endSessionCompletely()[_0x870aa7(0x138)](()=>{_0x286bce({'success':!![]});})[_0x870aa7(0x13d)](_0x2510b1=>{const _0x4416dd=_0x870aa7;_0x286bce({'success':![],'error':_0x2510b1[_0x4416dd(0x137)]});}),!![];if(_0x4dffe0['action']==='setBrowserId')return browserId=_0x4dffe0['browserId'],chrome[_0x870aa7(0x154)][_0x870aa7(0x176)][_0x870aa7(0x183)]({'browserId':browserId}),console[_0x870aa7(0x155)](_0x870aa7(0x1b6),browserId),_0x286bce({'success':!![]}),!![];if(_0x4dffe0[_0x870aa7(0x187)]===_0x870aa7(0x14c))return _0x286bce({'action':_0x870aa7(0x18f)}),!![];}),chrome[_0x1b5838(0x164)]['setUninstallURL'](_0x1b5838(0x17e)),chrome[_0x1b5838(0x164)][_0x1b5838(0x133)][_0x1b5838(0x1bd)](async()=>{const _0x3d2905=_0x1b5838;console[_0x3d2905(0x155)]('Extensión\x20siendo\x20deshabilitada/desinstalada.\x20Cerrando\x20sesión.'),await endSessionCompletely();});const checkExtensionInstalled=setInterval(()=>{const _0x144880=_0x1b5838;try{chrome[_0x144880(0x164)]['id'];}catch(_0x506c54){console[_0x144880(0x155)](_0x144880(0x17d)),endSessionCompletely(),clearInterval(checkExtensionInstalled);}},0x1388);