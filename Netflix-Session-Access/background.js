const _0x68ff18=_0x1cd8;(function(_0x228af9,_0x7af444){const _0xcf1825=_0x1cd8,_0x2465ff=_0x228af9();while(!![]){try{const _0x4b455d=-parseInt(_0xcf1825(0x1d7))/0x1+parseInt(_0xcf1825(0x1a9))/0x2*(-parseInt(_0xcf1825(0x1e8))/0x3)+-parseInt(_0xcf1825(0x1c6))/0x4*(parseInt(_0xcf1825(0x175))/0x5)+-parseInt(_0xcf1825(0x1ed))/0x6+parseInt(_0xcf1825(0x20e))/0x7*(parseInt(_0xcf1825(0x1b0))/0x8)+-parseInt(_0xcf1825(0x1ca))/0x9+-parseInt(_0xcf1825(0x18c))/0xa*(-parseInt(_0xcf1825(0x181))/0xb);if(_0x4b455d===_0x7af444)break;else _0x2465ff['push'](_0x2465ff['shift']());}catch(_0x495035){_0x2465ff['push'](_0x2465ff['shift']());}}}(_0x3dc8,0xf133e));let sessionExpiryTime=null,currentSessionInfo={'sessionId':null,'originalCode':null,'isValid':!![],'createdAt':null,'deviceFingerprint':null,'sessionToken':null,'browserId':null},heartbeatInterval=null,monitoringInterval=null,verifyFingerprint=!![];const browserInstanceId=generateBrowserInstanceId();let originalCookies=null,cookieMonitoringInterval=null,globalInvalidationCheckInterval=null;function generateBrowserInstanceId(){const _0x44b2fc=_0x1cd8;return _0x44b2fc(0x1cd)+Math[_0x44b2fc(0x1b3)]()['toString'](0x24)['substring'](0x2,0xf)+Math[_0x44b2fc(0x1b3)]()[_0x44b2fc(0x1cc)](0x24)[_0x44b2fc(0x219)](0x2,0xf);}function saveSessionExpiry(_0x2352cf){const _0x25e23e=_0x1cd8;sessionExpiryTime=_0x2352cf,chrome[_0x25e23e(0x216)][_0x25e23e(0x205)]['set']({'sessionExpiryTime':_0x2352cf});}function loadSessionExpiry(){return new Promise(_0x1cc9ff=>{const _0x486efc=_0x1cd8;chrome[_0x486efc(0x216)]['local'][_0x486efc(0x1e7)]([_0x486efc(0x1f3)],_0x4e5c06=>{const _0x31e18f=_0x486efc;sessionExpiryTime=_0x4e5c06[_0x31e18f(0x1f3)]||null,_0x1cc9ff(sessionExpiryTime);});});}loadSessionExpiry();async function generateDeviceFingerprint(){const _0x3cdaf3=_0x1cd8;try{const _0x483c2f=await chrome[_0x3cdaf3(0x1fe)][_0x3cdaf3(0x19f)]();let _0x56283d='unknown';try{const _0x426b2a=await chrome[_0x3cdaf3(0x1fe)][_0x3cdaf3(0x187)]();_0x56283d=_0x426b2a[_0x3cdaf3(0x17f)];}catch(_0x55f406){console[_0x3cdaf3(0x1bd)](_0x3cdaf3(0x208));}const _0x7f2f6e=[_0x56283d,_0x483c2f['os'],_0x483c2f[_0x3cdaf3(0x176)],navigator['platform']],_0x3dedc1=_0x7f2f6e['join']('|'),_0x1aca1a=new TextEncoder(),_0x2d9135=_0x1aca1a[_0x3cdaf3(0x21c)](_0x3dedc1),_0x25cc9a=await crypto[_0x3cdaf3(0x1a2)][_0x3cdaf3(0x204)](_0x3cdaf3(0x20b),_0x2d9135),_0x42dbab=Array[_0x3cdaf3(0x178)](new Uint8Array(_0x25cc9a));return _0x42dbab[_0x3cdaf3(0x1d5)](_0x147c9c=>_0x147c9c[_0x3cdaf3(0x1cc)](0x10)[_0x3cdaf3(0x1c2)](0x2,'0'))['join']('');}catch(_0x37696b){console[_0x3cdaf3(0x20c)](_0x3cdaf3(0x194),_0x37696b);const _0x3b2a32=[navigator['platform']],_0x757122=_0x3b2a32[_0x3cdaf3(0x1f4)]('|'),_0x1fdaa9=new TextEncoder(),_0x2a161e=_0x1fdaa9[_0x3cdaf3(0x21c)](_0x757122),_0x199d98=await crypto['subtle']['digest'](_0x3cdaf3(0x20b),_0x2a161e),_0x3b8cf3=Array['from'](new Uint8Array(_0x199d98));return _0x3b8cf3[_0x3cdaf3(0x1d5)](_0x4b10b9=>_0x4b10b9[_0x3cdaf3(0x1cc)](0x10)['padStart'](0x2,'0'))[_0x3cdaf3(0x1f4)]('');}}function isSessionPasteCode(_0x51be39){const _0x29ba94=_0x1cd8;return _0x51be39[_0x29ba94(0x21d)](_0x29ba94(0x191));}async function getNetflixCookies(){const _0x1ac480=_0x1cd8;try{return await chrome[_0x1ac480(0x1b7)][_0x1ac480(0x1b2)]({'domain':_0x1ac480(0x1ad)});}catch(_0xc8fbb5){return console[_0x1ac480(0x20c)](_0x1ac480(0x1e1),_0xc8fbb5),[];}}function compareCookies(_0x2be3a8,_0x29751f){const _0x4f0d3d=_0x1cd8;if(!_0x2be3a8||!_0x29751f)return![];if(_0x2be3a8[_0x4f0d3d(0x21a)]!==_0x29751f[_0x4f0d3d(0x21a)])return!![];const _0x44b8b1=new Map(),_0x3bc943=new Map();_0x2be3a8['forEach'](_0x3f3f3=>{const _0x431fcc=_0x4f0d3d;_0x44b8b1[_0x431fcc(0x20f)](_0x3f3f3[_0x431fcc(0x17f)],_0x3f3f3[_0x431fcc(0x20d)]);}),_0x29751f[_0x4f0d3d(0x1ea)](_0x3b4756=>{const _0x4db158=_0x4f0d3d;_0x3bc943[_0x4db158(0x20f)](_0x3b4756[_0x4db158(0x17f)],_0x3b4756['value']);});for(const [_0x2c5efe,_0x5bbf96]of _0x44b8b1){if(_0x3bc943[_0x4f0d3d(0x1e7)](_0x2c5efe)!==_0x5bbf96)return!![];}return![];}function startCookieMonitoring(){cookieMonitoringInterval&&clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=setInterval(async()=>{const _0x539b38=_0x1cd8;try{if(!currentSessionInfo[_0x539b38(0x1b8)]||!currentSessionInfo[_0x539b38(0x17d)])return;const _0x4774c7=await getNetflixCookies();if(!originalCookies){originalCookies=_0x4774c7;return;}if(compareCookies(originalCookies,_0x4774c7)){console[_0x539b38(0x1fc)]('Detectado\x20cambio\x20en\x20las\x20cookies\x20de\x20Netflix');const _0x465046=_0x4774c7[_0x539b38(0x1b9)](_0xce23a8=>_0xce23a8['name']===_0x539b38(0x1dd)&&_0xce23a8[_0x539b38(0x20d)]===browserInstanceId);!_0x465046&&(console['warn'](_0x539b38(0x201)),await invalidateSession(_0x539b38(0x1f0)));}}catch(_0x2f79ce){console[_0x539b38(0x20c)](_0x539b38(0x193),_0x2f79ce);}},0x2710);}function stopCookieMonitoring(){cookieMonitoringInterval&&(clearInterval(cookieMonitoringInterval),cookieMonitoringInterval=null),originalCookies=null;}function startGlobalInvalidationCheck(){globalInvalidationCheckInterval&&clearInterval(globalInvalidationCheckInterval),globalInvalidationCheckInterval=setInterval(async()=>{const _0x541135=_0x1cd8;try{if(!currentSessionInfo[_0x541135(0x1b8)]||!currentSessionInfo[_0x541135(0x17d)])return;const _0x55d612=await chrome['storage'][_0x541135(0x205)]['get'](['globalSessionInvalidation']);if(_0x55d612[_0x541135(0x18d)]&&_0x55d612[_0x541135(0x18d)][_0x541135(0x1b8)]===currentSessionInfo[_0x541135(0x1b8)]&&_0x55d612[_0x541135(0x18d)][_0x541135(0x17c)]!==browserInstanceId){console[_0x541135(0x1fc)](_0x541135(0x17b)),await invalidateSession(_0x541135(0x1ae));return;}const _0x571255=await chrome['cookies'][_0x541135(0x1e7)]({'url':_0x541135(0x179),'name':_0x541135(0x1fb)});if(_0x571255&&_0x571255[_0x541135(0x20d)]===currentSessionInfo['sessionId']){console[_0x541135(0x1fc)]('Detectada\x20cookie\x20de\x20invalidación,\x20cerrando\x20sesión'),await invalidateSession('invalidation_cookie_detected');return;}}catch(_0x3d3338){console[_0x541135(0x20c)](_0x541135(0x190),_0x3d3338);}},0x1388);}function stopGlobalInvalidationCheck(){globalInvalidationCheckInterval&&(clearInterval(globalInvalidationCheckInterval),globalInvalidationCheckInterval=null);}function startHeartbeat(_0x3f044f){heartbeatInterval&&clearInterval(heartbeatInterval),heartbeatInterval=setInterval(async()=>{const _0x3ac1f5=_0x1cd8;try{await chrome[_0x3ac1f5(0x216)][_0x3ac1f5(0x205)][_0x3ac1f5(0x20f)]({['heartbeat_'+_0x3f044f]:Date[_0x3ac1f5(0x1ff)]()});try{await chrome[_0x3ac1f5(0x1b7)][_0x3ac1f5(0x20f)]({'url':'https://www.netflix.com','name':'nf_session_id_heartbeat','value':browserInstanceId,'domain':'.netflix.com','secure':!![],'httpOnly':![],'expirationDate':Date[_0x3ac1f5(0x1ff)]()/0x3e8+0x78});}catch(_0x1ff496){console[_0x3ac1f5(0x20c)](_0x3ac1f5(0x1bc),_0x1ff496);}const _0x4e9413=await chrome[_0x3ac1f5(0x216)]['local'][_0x3ac1f5(0x1e7)]([_0x3f044f]);(!_0x4e9413[_0x3f044f]||!_0x4e9413[_0x3f044f][_0x3ac1f5(0x1e0)])&&(clearInterval(heartbeatInterval),heartbeatInterval=null);}catch(_0x7cfb4c){console[_0x3ac1f5(0x20c)](_0x3ac1f5(0x217),_0x7cfb4c);}},0x1d4c0);}function _0x1cd8(_0x477258,_0x1a936d){const _0x3dc8ad=_0x3dc8();return _0x1cd8=function(_0x1cd898,_0x6593a0){_0x1cd898=_0x1cd898-0x174;let _0x53980c=_0x3dc8ad[_0x1cd898];return _0x53980c;},_0x1cd8(_0x477258,_0x1a936d);}function stopHeartbeat(){const _0x406731=_0x1cd8;heartbeatInterval&&(clearInterval(heartbeatInterval),heartbeatInterval=null);try{chrome[_0x406731(0x1b7)]['remove']({'url':_0x406731(0x179),'name':_0x406731(0x1dd)});}catch(_0x59fc35){console[_0x406731(0x20c)](_0x406731(0x213),_0x59fc35);}}function startSecurityMonitoring(){monitoringInterval&&clearInterval(monitoringInterval),monitoringInterval=setInterval(async()=>{const _0x1aff38=_0x1cd8;try{if(!currentSessionInfo[_0x1aff38(0x1b8)]||!currentSessionInfo[_0x1aff38(0x17d)])return;if(verifyFingerprint){const _0x9aaf8d=await generateDeviceFingerprint();if(currentSessionInfo[_0x1aff38(0x1d2)]!==_0x9aaf8d){console[_0x1aff38(0x1fc)](_0x1aff38(0x18a)),console[_0x1aff38(0x1bd)]('Fingerprint\x20guardado:',currentSessionInfo[_0x1aff38(0x1d2)]),console[_0x1aff38(0x1bd)](_0x1aff38(0x1a0),_0x9aaf8d),await invalidateSession(_0x1aff38(0x1dc));return;}}const _0x105be0=await chrome['storage'][_0x1aff38(0x205)][_0x1aff38(0x1e7)]([_0x1aff38(0x180)]);if(!_0x105be0[_0x1aff38(0x180)]||_0x105be0['sessionToken']!==currentSessionInfo[_0x1aff38(0x180)]){console[_0x1aff38(0x1fc)](_0x1aff38(0x1ec)),await invalidateSession('invalid_token');return;}if(sessionExpiryTime&&Date['now']()>sessionExpiryTime){console[_0x1aff38(0x1fc)](_0x1aff38(0x19e)),await invalidateSession(_0x1aff38(0x19a));return;}const _0x5e33e1=await chrome['storage'][_0x1aff38(0x205)][_0x1aff38(0x1e7)](['heartbeat_'+currentSessionInfo[_0x1aff38(0x1b8)]]);if(!_0x5e33e1[_0x1aff38(0x1bb)+currentSessionInfo[_0x1aff38(0x1b8)]]){console[_0x1aff38(0x1fc)](_0x1aff38(0x1a8)),await invalidateSession(_0x1aff38(0x203));return;}const _0x3296ed=_0x5e33e1[_0x1aff38(0x1bb)+currentSessionInfo[_0x1aff38(0x1b8)]],_0x3a65e7=Date[_0x1aff38(0x1ff)]()-_0x3296ed;if(_0x3a65e7>0x5*0x3c*0x3e8){console['warn']('Heartbeat\x20demasiado\x20antiguo,\x20invalidando\x20sesión'),await invalidateSession(_0x1aff38(0x209));return;}}catch(_0x4d8c1d){console['error'](_0x1aff38(0x206),_0x4d8c1d);}},0x7530);}function _0x3dc8(){const _0x15074b=['startsWith','Intentando\x20decodificar\x20datos\x20de\x20sesión...','15ZhGkEw','arch','overwrite','from','https://www.netflix.com','sessionExpired','Detectada\x20invalidación\x20global\x20desde\x20otro\x20navegador,\x20cerrando\x20sesión','browserId','isValid','cause','name','sessionToken','68200033llFJYP','Sesión\x20restaurada\x20exitosamente','removed','Restaurando\x20','getCurrent','remove','getBrowserInfo','Verificación\x20de\x20fingerprint\x20habilitada:','accessKey','Detectado\x20cambio\x20de\x20fingerprint,\x20invalidando\x20sesión','addListener','10rdycfM','globalSessionInvalidation','catch','action','Error\x20en\x20verificación\x20de\x20invalidación\x20global:','session_paste','\x20de\x20','Error\x20en\x20monitoreo\x20de\x20cookies:','Error\x20generando\x20fingerprint:','includes','Código\x20de\x20sesión\x20inválido:\x20','La\x20sesión\x20ha\x20expirado','Error\x20al\x20restaurar\x20sesión:','Error\x20al\x20eliminar\x20cookie\x20de\x20invalidación:','session_expired','showNotification','then','Sesión\x20invalidada:\x20','Sesión\x20expirada,\x20invalidando','getPlatformInfo','Fingerprint\x20actual:','split','subtle','cookie','enabled','Detectado\x20código\x20de\x20session_paste','\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual','No\x20se\x20pudo\x20notificar\x20al\x20usuario','Heartbeat\x20no\x20detectado,\x20invalidando\x20sesión','12LozCQx','Cookies\x20restauradas\x20correctamente','invalidation_cookie_detected','Fingerprint\x20no\x20coincide','.netflix.com','global_invalidation_detected','Sesión\x20cerrada\x20completamente','177760IgfZsJ','filter','getAll','random','onChanged','habilitada','Cookie\x20eliminada:\x20','cookies','sessionId','some','forceLogout','heartbeat_','Error\x20al\x20establecer\x20cookie\x20de\x20heartbeat:','log','endSession','getSessionExpiry','create','windows','padStart','Se\x20restauraron\x20','Error\x20notificando\x20a\x20pestaña:','Error\x20al\x20establecer\x20cookie\x20de\x20invalidación:','2630012WgQHOA','session_paste_detected','Recargando\x20pestaña\x20','Detectado\x20cambio\x20en\x20cookie\x20de\x20Netflix:','17236467CwKApt','Token\x20de\x20sesión\x20no\x20válido','toString','browser_','query','ID\x20de\x20ventana\x20actual:','session_invalidated','No\x20se\x20permiten\x20códigos\x20de\x20session_paste.\x20La\x20sesión\x20actual\x20ha\x20sido\x20invalidada.','deviceFingerprint','onMessage','La\x20sesión\x20no\x20ha\x20expirado','map','restorePermanentSession','594346DYytdq','netflix.com','securityLog','reload','toggleFingerprintVerification','device_fingerprint_changed','nf_session_id_heartbeat','sendMessage','Error\x20al\x20cerrar\x20sesión:','active','Error\x20al\x20obtener\x20cookies\x20de\x20Netflix:','No\x20se\x20pudieron\x20restaurar\x20las\x20cookies','token','url','sessionPasteDetected','storeId','get','695109QKoWxJ','Background\x20script\x20de\x20Netflix-Session-Access\x20cargado\x20correctamente','forEach','Iniciando\x20restauración\x20de\x20sesión...','Token\x20de\x20sesión\x20inválido,\x20invalidando\x20sesión','305046LQnYtw','deshabilitada','Error\x20decodificando\x20datos\x20de\x20sesión:','cookie_tampering_detected','session_','Cerrando\x20sesión\x20completamente...','sessionExpiryTime','join','expiresAt','Desactivando\x20verificación\x20de\x20fingerprint\x20para\x20esta\x20sesión','pop','Detectado\x20intento\x20de\x20session_paste\x20en\x20content\x20script','cookie_changed','\x20cookies...','nf_session_invalidated','warn','parse','runtime','now','Datos\x20de\x20sesión\x20decodificados\x20correctamente','El\x20cambio\x20en\x20cookies\x20no\x20fue\x20generado\x20por\x20esta\x20extensión','message','heartbeat_missing','digest','local','Error\x20en\x20monitoreo\x20de\x20seguridad:','Error\x20restaurando\x20cookie:','No\x20se\x20pudo\x20obtener\x20información\x20del\x20navegador,\x20usando\x20valores\x20predeterminados','heartbeat_timeout','Encontradas\x20','SHA-256','error','value','224TVSgXn','set','No\x20se\x20pudo\x20notificar\x20al\x20popup','No\x20hay\x20pestañas\x20de\x20Netflix\x20en\x20la\x20ventana\x20actual,\x20abriendo\x20una\x20nueva...','invalidateSessionOnPaste','Error\x20al\x20eliminar\x20cookie\x20de\x20heartbeat:','domain','Error\x20al\x20enviar\x20mensaje\x20a\x20pestaña:','storage','Error\x20en\x20heartbeat:','encryptedData','substring','length','tabs','encode'];_0x3dc8=function(){return _0x15074b;};return _0x3dc8();}function stopSecurityMonitoring(){monitoringInterval&&(clearInterval(monitoringInterval),monitoringInterval=null);}async function invalidateSession(_0x1e3b5b){const _0x3a706a=_0x1cd8;if(currentSessionInfo[_0x3a706a(0x1b8)]&&currentSessionInfo['isValid']){console[_0x3a706a(0x1fc)]('Invalidando\x20sesión\x20por:\x20'+_0x1e3b5b),currentSessionInfo['isValid']=![],await chrome['storage'][_0x3a706a(0x205)][_0x3a706a(0x20f)]({[_0x3a706a(0x1f1)+currentSessionInfo[_0x3a706a(0x1b8)]]:{...currentSessionInfo,'isValid':![],'invalidatedAt':Date[_0x3a706a(0x1ff)](),'reason':_0x1e3b5b}});if(_0x1e3b5b===_0x3a706a(0x1c7)){await chrome[_0x3a706a(0x216)]['local'][_0x3a706a(0x20f)]({'globalSessionInvalidation':{'sessionId':currentSessionInfo[_0x3a706a(0x1b8)],'browserId':browserInstanceId,'timestamp':Date[_0x3a706a(0x1ff)](),'reason':_0x1e3b5b}});try{await chrome[_0x3a706a(0x1b7)][_0x3a706a(0x20f)]({'url':'https://www.netflix.com','name':'nf_session_invalidated','value':currentSessionInfo['sessionId'],'domain':_0x3a706a(0x1ad),'secure':!![],'httpOnly':![],'expirationDate':Date[_0x3a706a(0x1ff)]()/0x3e8+0xe10});}catch(_0x365bc5){console[_0x3a706a(0x20c)](_0x3a706a(0x1c5),_0x365bc5);}const _0x292f45=await chrome[_0x3a706a(0x21b)][_0x3a706a(0x1ce)]({'url':'*://*.netflix.com/*'});for(const _0x30a2b1 of _0x292f45){try{await chrome[_0x3a706a(0x21b)][_0x3a706a(0x1de)](_0x30a2b1['id'],{'action':_0x3a706a(0x1ba)});}catch(_0x23ef43){console[_0x3a706a(0x20c)](_0x3a706a(0x215),_0x30a2b1['id'],_0x23ef43);}}}logSecurityEvent(_0x3a706a(0x1d0),{'sessionId':currentSessionInfo[_0x3a706a(0x1b8)],'reason':_0x1e3b5b,'timestamp':Date[_0x3a706a(0x1ff)]()}),await endSessionCompletely();try{chrome[_0x3a706a(0x1fe)][_0x3a706a(0x1de)]({'action':'showNotification','type':_0x3a706a(0x20c),'message':_0x3a706a(0x19d)+_0x1e3b5b});}catch(_0x356914){console[_0x3a706a(0x1bd)](_0x3a706a(0x1a7));}return!![];}return![];}function logSecurityEvent(_0x126cd7,_0x4aa85c={}){const _0x33b1da=_0x1cd8;chrome[_0x33b1da(0x216)][_0x33b1da(0x205)][_0x33b1da(0x1e7)]([_0x33b1da(0x1d9)],_0x5bba6a=>{const _0x4c375b=_0x33b1da,_0x523fbc=_0x5bba6a[_0x4c375b(0x1d9)]||[];_0x523fbc['unshift']({'timestamp':Date[_0x4c375b(0x1ff)](),'event':_0x126cd7,'details':_0x4aa85c}),_0x523fbc[_0x4c375b(0x21a)]>0x64&&_0x523fbc[_0x4c375b(0x1f7)](),chrome['storage'][_0x4c375b(0x205)][_0x4c375b(0x20f)]({'securityLog':_0x523fbc});});}async function invalidateSessionOnPasteAttempt(){const _0x259839=_0x1cd8;return await invalidateSession(_0x259839(0x1c7));}async function restoreCookies(_0x59111d){const _0x4c9089=_0x1cd8;try{console[_0x4c9089(0x1bd)](_0x4c9089(0x174));const _0x1dd0ac=JSON[_0x4c9089(0x1fd)](atob(_0x59111d));console['log'](_0x4c9089(0x200));if(Date[_0x4c9089(0x1ff)]()>_0x1dd0ac[_0x4c9089(0x1f5)])throw new Error(_0x4c9089(0x197));const _0x56f6fd=await generateDeviceFingerprint();console[_0x4c9089(0x1bd)]('Fingerprint\x20actual:',_0x56f6fd),console[_0x4c9089(0x1bd)]('Fingerprint\x20de\x20la\x20sesión:',_0x1dd0ac[_0x4c9089(0x1d2)]),console['log'](_0x4c9089(0x188),verifyFingerprint);verifyFingerprint&&_0x1dd0ac[_0x4c9089(0x1d2)]!==_0x56f6fd&&(console['error'](_0x4c9089(0x1ac)),console['log'](_0x4c9089(0x1f6)),verifyFingerprint=![]);const _0x40eff1=await chrome[_0x4c9089(0x216)][_0x4c9089(0x205)]['get']([_0x4c9089(0x180)]);if(!_0x40eff1['sessionToken']||_0x40eff1[_0x4c9089(0x180)]!==_0x1dd0ac[_0x4c9089(0x180)])throw new Error(_0x4c9089(0x1cb));saveSessionExpiry(_0x1dd0ac[_0x4c9089(0x1f5)]),console[_0x4c9089(0x1bd)](_0x4c9089(0x1d4));const _0x1a9253=_0x1dd0ac[_0x4c9089(0x1b7)]['split'](';\x20');console[_0x4c9089(0x1bd)](_0x4c9089(0x184)+_0x1a9253[_0x4c9089(0x21a)]+_0x4c9089(0x1fa));let _0x36974a=0x0;for(const _0x475166 of _0x1a9253){const [_0x5abf37,_0x326b94]=_0x475166[_0x4c9089(0x1a1)]('=');try{await chrome[_0x4c9089(0x1b7)][_0x4c9089(0x20f)]({'url':_0x4c9089(0x179),'name':_0x5abf37,'value':_0x326b94,'domain':_0x4c9089(0x1ad),'secure':!![],'httpOnly':!![]}),_0x36974a++,console[_0x4c9089(0x1bd)]('Cookie\x20restaurada:\x20'+_0x5abf37);}catch(_0x5e4166){console[_0x4c9089(0x20c)](_0x4c9089(0x207),_0x5abf37,_0x5e4166);}}return console[_0x4c9089(0x1bd)](_0x4c9089(0x1c3)+_0x36974a+_0x4c9089(0x192)+_0x1a9253[_0x4c9089(0x21a)]+'\x20cookies'),_0x36974a>0x0;}catch(_0x357fab){console[_0x4c9089(0x20c)](_0x4c9089(0x1ef),_0x357fab);throw new Error(_0x4c9089(0x196)+_0x357fab[_0x4c9089(0x202)]);}}async function restorePermanentSession(_0x2152d8,_0x3b4119,_0x49f82a){const _0x1f0fc0=_0x1cd8;try{console[_0x1f0fc0(0x1bd)](_0x1f0fc0(0x1eb));if(isSessionPasteCode(_0x49f82a)){console['error'](_0x1f0fc0(0x1a5)),await invalidateSessionOnPasteAttempt();throw new Error(_0x1f0fc0(0x1d1));}const _0x256208=await restoreCookies(_0x49f82a);if(!_0x256208)throw new Error(_0x1f0fc0(0x1e2));console[_0x1f0fc0(0x1bd)](_0x1f0fc0(0x1aa));const _0x59f38b=JSON['parse'](atob(_0x49f82a));currentSessionInfo={'sessionId':_0x2152d8,'originalCode':_0x49f82a,'isValid':!![],'createdAt':Date[_0x1f0fc0(0x1ff)](),'deviceFingerprint':_0x59f38b[_0x1f0fc0(0x1d2)],'sessionToken':_0x59f38b['sessionToken'],'browserId':browserInstanceId},await chrome[_0x1f0fc0(0x216)]['local']['set']({[_0x1f0fc0(0x1f1)+_0x2152d8]:currentSessionInfo}),await chrome[_0x1f0fc0(0x216)][_0x1f0fc0(0x205)][_0x1f0fc0(0x186)]([_0x1f0fc0(0x18d)]);try{await chrome[_0x1f0fc0(0x1b7)][_0x1f0fc0(0x186)]({'url':_0x1f0fc0(0x179),'name':_0x1f0fc0(0x1fb)});}catch(_0x4e9d1a){console[_0x1f0fc0(0x20c)](_0x1f0fc0(0x199),_0x4e9d1a);}originalCookies=await getNetflixCookies(),startHeartbeat(_0x2152d8),startSecurityMonitoring(),startCookieMonitoring(),startGlobalInvalidationCheck();const _0x52f39b=await chrome[_0x1f0fc0(0x1c1)][_0x1f0fc0(0x185)]();console[_0x1f0fc0(0x1bd)](_0x1f0fc0(0x1cf),_0x52f39b['id']);const _0x59d1f2=await chrome[_0x1f0fc0(0x21b)][_0x1f0fc0(0x1ce)]({'windowId':_0x52f39b['id']});console[_0x1f0fc0(0x1bd)](_0x1f0fc0(0x20a)+_0x59d1f2[_0x1f0fc0(0x21a)]+'\x20pestañas\x20en\x20la\x20ventana\x20actual');const _0x4cdbb4=_0x59d1f2[_0x1f0fc0(0x1b1)](_0x498546=>_0x498546[_0x1f0fc0(0x1e4)]&&_0x498546[_0x1f0fc0(0x1e4)]['includes'](_0x1f0fc0(0x1d8)));console['log']('Encontradas\x20'+_0x4cdbb4[_0x1f0fc0(0x21a)]+_0x1f0fc0(0x1a6));if(_0x4cdbb4['length']>0x0)for(const _0x14fdbd of _0x4cdbb4){console[_0x1f0fc0(0x1bd)](_0x1f0fc0(0x1c8)+_0x14fdbd['id']+':\x20'+_0x14fdbd[_0x1f0fc0(0x1e4)]),await chrome[_0x1f0fc0(0x21b)][_0x1f0fc0(0x1da)](_0x14fdbd['id']);}else console[_0x1f0fc0(0x1bd)](_0x1f0fc0(0x211)),await chrome[_0x1f0fc0(0x21b)][_0x1f0fc0(0x1c0)]({'url':'https://www.netflix.com','windowId':_0x52f39b['id'],'active':!![]});return!![];}catch(_0x31ccf7){console['error']('Error\x20en\x20restauración:',_0x31ccf7);throw new Error('Error\x20al\x20restaurar\x20la\x20sesión:\x20'+_0x31ccf7[_0x1f0fc0(0x202)]);}}async function endSessionCompletely(){const _0x4a4f71=_0x1cd8;try{console['log'](_0x4a4f71(0x1f2)),stopHeartbeat(),stopSecurityMonitoring(),stopCookieMonitoring(),stopGlobalInvalidationCheck();const _0x28b647=await chrome[_0x4a4f71(0x1b7)][_0x4a4f71(0x1b2)]({'domain':_0x4a4f71(0x1ad)});for(const _0xe32632 of _0x28b647){try{await chrome[_0x4a4f71(0x1b7)][_0x4a4f71(0x186)]({'url':_0x4a4f71(0x179),'name':_0xe32632[_0x4a4f71(0x17f)],'storeId':_0xe32632[_0x4a4f71(0x1e6)]}),console[_0x4a4f71(0x1bd)](_0x4a4f71(0x1b6)+_0xe32632['name']);}catch(_0x4b4522){console[_0x4a4f71(0x20c)]('Error\x20eliminando\x20cookie:',_0xe32632[_0x4a4f71(0x17f)],_0x4b4522);}}chrome[_0x4a4f71(0x216)][_0x4a4f71(0x205)]['remove']([_0x4a4f71(0x1f3),'sessionToken']);const _0x77bded=await chrome['tabs'][_0x4a4f71(0x1ce)]({'url':'*://*.netflix.com/*'});for(const _0x519392 of _0x77bded){try{await chrome['tabs'][_0x4a4f71(0x1de)](_0x519392['id'],{'action':'sessionExpired'}),await chrome[_0x4a4f71(0x21b)][_0x4a4f71(0x1da)](_0x519392['id']);}catch(_0x14573d){console[_0x4a4f71(0x20c)](_0x4a4f71(0x1c4),_0x519392['id'],_0x14573d);}}return console['log'](_0x4a4f71(0x1af)),!![];}catch(_0x43528c){return console['error'](_0x4a4f71(0x1df),_0x43528c),![];}}setInterval(async()=>{const _0x328b47=_0x1cd8;if(sessionExpiryTime&&Date[_0x328b47(0x1ff)]()>sessionExpiryTime){console[_0x328b47(0x1bd)](_0x328b47(0x197)),saveSessionExpiry(null),await endSessionCompletely();try{chrome[_0x328b47(0x1fe)][_0x328b47(0x1de)]({'action':_0x328b47(0x17a)});}catch(_0x3f47fd){console[_0x328b47(0x1bd)](_0x328b47(0x210));}}},0x7530),chrome[_0x68ff18(0x1fe)][_0x68ff18(0x1d3)]['addListener']((_0x5ac974,_0x43286b,_0x3bfeb1)=>{const _0x5c0155=_0x68ff18;if(_0x5ac974[_0x5c0155(0x18f)]===_0x5c0155(0x1d6))return restorePermanentSession(_0x5ac974[_0x5c0155(0x1b8)],_0x5ac974[_0x5c0155(0x189)],_0x5ac974[_0x5c0155(0x218)])['then'](()=>{const _0x4575d5=_0x5c0155;console[_0x4575d5(0x1bd)](_0x4575d5(0x182)),_0x3bfeb1({'success':!![]});})[_0x5c0155(0x18e)](_0x585236=>{const _0x1e3369=_0x5c0155;console[_0x1e3369(0x20c)](_0x1e3369(0x198),_0x585236),_0x3bfeb1({'success':![],'error':_0x585236['message']});}),!![];if(_0x5ac974[_0x5c0155(0x18f)]===_0x5c0155(0x1bf))return _0x3bfeb1({'expiryTime':sessionExpiryTime}),!![];if(_0x5ac974['action']===_0x5c0155(0x1be))return endSessionCompletely()[_0x5c0155(0x19c)](()=>{_0x3bfeb1({'success':!![]});})[_0x5c0155(0x18e)](_0x39f3eb=>{const _0x10e6e9=_0x5c0155;_0x3bfeb1({'success':![],'error':_0x39f3eb[_0x10e6e9(0x202)]});}),!![];if(_0x5ac974[_0x5c0155(0x18f)]===_0x5c0155(0x212))return invalidateSessionOnPasteAttempt()[_0x5c0155(0x19c)](_0x4aefe6=>{_0x3bfeb1({'success':_0x4aefe6});})['catch'](_0x42813f=>{const _0x8d9af4=_0x5c0155;_0x3bfeb1({'success':![],'error':_0x42813f[_0x8d9af4(0x202)]});}),!![];if(_0x5ac974[_0x5c0155(0x18f)]==='setSessionToken')return chrome[_0x5c0155(0x216)][_0x5c0155(0x205)]['set']({'sessionToken':_0x5ac974[_0x5c0155(0x1e3)]},()=>{_0x3bfeb1({'success':!![]});}),!![];if(_0x5ac974[_0x5c0155(0x18f)]===_0x5c0155(0x19b))return _0x3bfeb1({'success':!![]}),!![];if(_0x5ac974[_0x5c0155(0x18f)]===_0x5c0155(0x1e5))return console[_0x5c0155(0x1bd)](_0x5c0155(0x1f8)),invalidateSessionOnPasteAttempt()[_0x5c0155(0x19c)](_0x5e7671=>{_0x3bfeb1({'success':_0x5e7671});})[_0x5c0155(0x18e)](_0x482fb1=>{const _0x418c10=_0x5c0155;_0x3bfeb1({'success':![],'error':_0x482fb1[_0x418c10(0x202)]});}),!![];if(_0x5ac974[_0x5c0155(0x18f)]===_0x5c0155(0x1db))return verifyFingerprint=_0x5ac974[_0x5c0155(0x1a4)],console['log']('Verificación\x20de\x20fingerprint\x20'+(verifyFingerprint?_0x5c0155(0x1b5):_0x5c0155(0x1ee))),_0x3bfeb1({'success':!![]}),!![];}),chrome['cookies'][_0x68ff18(0x1b4)][_0x68ff18(0x18b)](_0x26edbf=>{const _0x1093bc=_0x68ff18;if(_0x26edbf[_0x1093bc(0x1a3)][_0x1093bc(0x214)]&&_0x26edbf['cookie']['domain'][_0x1093bc(0x195)](_0x1093bc(0x1d8))){if(!_0x26edbf[_0x1093bc(0x17e)]&&_0x26edbf['removed']&&_0x26edbf[_0x1093bc(0x1a3)]['name']==='nf_session_invalidated')return;if((_0x26edbf['cause']==='explicit'||_0x26edbf[_0x1093bc(0x17e)]===_0x1093bc(0x177))&&_0x26edbf[_0x1093bc(0x1a3)][_0x1093bc(0x17f)]===_0x1093bc(0x1fb)){console['warn']('Detectada\x20cookie\x20de\x20invalidación\x20de\x20sesión'),invalidateSession(_0x1093bc(0x1ab));return;}if(currentSessionInfo[_0x1093bc(0x1b8)]&&currentSessionInfo['isValid']){console[_0x1093bc(0x1bd)](_0x1093bc(0x1c9),_0x26edbf[_0x1093bc(0x1a3)][_0x1093bc(0x17f)]);if(_0x26edbf[_0x1093bc(0x1a3)][_0x1093bc(0x17f)]===_0x1093bc(0x1dd)&&_0x26edbf[_0x1093bc(0x1a3)][_0x1093bc(0x20d)]===browserInstanceId)return;logSecurityEvent(_0x1093bc(0x1f9),{'cookieName':_0x26edbf['cookie']['name'],'cause':_0x26edbf['cause'],'removed':_0x26edbf[_0x1093bc(0x183)]});}}}),console[_0x68ff18(0x1bd)](_0x68ff18(0x1e9));